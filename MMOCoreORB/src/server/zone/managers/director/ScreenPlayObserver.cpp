/*
 *	server/zone/managers/director/ScreenPlayObserver.cpp generated by engine3 IDL compiler 0.60
 */

#include "ScreenPlayObserver.h"

/*
 *	ScreenPlayObserverStub
 */

enum {RPC_NOTIFYOBSERVEREVENT__INT_OBSERVABLE_MANAGEDOBJECT_LONG_ = 6,RPC_SETSCREENPLAY__STRING_,RPC_SETSCREENKEY__STRING_,RPC_GETSCREENPLAY__,RPC_GETSCREENKEY__};

ScreenPlayObserver::ScreenPlayObserver() : Observer(DummyConstructorParameter::instance()) {
	ScreenPlayObserverImplementation* _implementation = new ScreenPlayObserverImplementation();
	_impl = _implementation;
	_impl->_setStub(this);
}

ScreenPlayObserver::ScreenPlayObserver(DummyConstructorParameter* param) : Observer(param) {
}

ScreenPlayObserver::~ScreenPlayObserver() {
}


int ScreenPlayObserver::notifyObserverEvent(unsigned int eventType, Observable* observable, ManagedObject* arg1, long long arg2) {
	ScreenPlayObserverImplementation* _implementation = (ScreenPlayObserverImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, RPC_NOTIFYOBSERVEREVENT__INT_OBSERVABLE_MANAGEDOBJECT_LONG_);
		method.addUnsignedIntParameter(eventType);
		method.addObjectParameter(observable);
		method.addObjectParameter(arg1);
		method.addSignedLongParameter(arg2);

		return method.executeWithSignedIntReturn();
	} else
		return _implementation->notifyObserverEvent(eventType, observable, arg1, arg2);
}

void ScreenPlayObserver::setScreenPlay(const String& screen) {
	ScreenPlayObserverImplementation* _implementation = (ScreenPlayObserverImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, RPC_SETSCREENPLAY__STRING_);
		method.addAsciiParameter(screen);

		method.executeWithVoidReturn();
	} else
		_implementation->setScreenPlay(screen);
}

void ScreenPlayObserver::setScreenKey(const String& screenKey) {
	ScreenPlayObserverImplementation* _implementation = (ScreenPlayObserverImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, RPC_SETSCREENKEY__STRING_);
		method.addAsciiParameter(screenKey);

		method.executeWithVoidReturn();
	} else
		_implementation->setScreenKey(screenKey);
}

String ScreenPlayObserver::getScreenPlay() {
	ScreenPlayObserverImplementation* _implementation = (ScreenPlayObserverImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, RPC_GETSCREENPLAY__);

		method.executeWithAsciiReturn(_return_getScreenPlay);
		return _return_getScreenPlay;
	} else
		return _implementation->getScreenPlay();
}

String ScreenPlayObserver::getScreenKey() {
	ScreenPlayObserverImplementation* _implementation = (ScreenPlayObserverImplementation*) _getImplementation();
	if (_implementation == NULL) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, RPC_GETSCREENKEY__);

		method.executeWithAsciiReturn(_return_getScreenKey);
		return _return_getScreenKey;
	} else
		return _implementation->getScreenKey();
}

DistributedObjectServant* ScreenPlayObserver::_getImplementation() {

	_updated = true;
	return _impl;
}

void ScreenPlayObserver::_setImplementation(DistributedObjectServant* servant) {
	_impl = servant;
}

/*
 *	ScreenPlayObserverImplementation
 */

ScreenPlayObserverImplementation::ScreenPlayObserverImplementation(DummyConstructorParameter* param) : ObserverImplementation(param) {
	_initializeImplementation();
}


ScreenPlayObserverImplementation::~ScreenPlayObserverImplementation() {
}


void ScreenPlayObserverImplementation::finalize() {
}

void ScreenPlayObserverImplementation::_initializeImplementation() {
	_setClassHelper(ScreenPlayObserverHelper::instance());

	_this = NULL;

	_serializationHelperMethod();
}

void ScreenPlayObserverImplementation::_setStub(DistributedObjectStub* stub) {
	_this = (ScreenPlayObserver*) stub;
	ObserverImplementation::_setStub(stub);
}

DistributedObjectStub* ScreenPlayObserverImplementation::_getStub() {
	return _this;
}

ScreenPlayObserverImplementation::operator const ScreenPlayObserver*() {
	return _this;
}

void ScreenPlayObserverImplementation::lock(bool doLock) {
	_this->lock(doLock);
}

void ScreenPlayObserverImplementation::lock(ManagedObject* obj) {
	_this->lock(obj);
}

void ScreenPlayObserverImplementation::rlock(bool doLock) {
	_this->rlock(doLock);
}

void ScreenPlayObserverImplementation::wlock(bool doLock) {
	_this->wlock(doLock);
}

void ScreenPlayObserverImplementation::wlock(ManagedObject* obj) {
	_this->wlock(obj);
}

void ScreenPlayObserverImplementation::unlock(bool doLock) {
	_this->unlock(doLock);
}

void ScreenPlayObserverImplementation::runlock(bool doLock) {
	_this->runlock(doLock);
}

void ScreenPlayObserverImplementation::_serializationHelperMethod() {
	ObserverImplementation::_serializationHelperMethod();

	_setClassName("ScreenPlayObserver");

}

void ScreenPlayObserverImplementation::readObject(ObjectInputStream* stream) {
	uint16 _varCount = stream->readShort();
	for (int i = 0; i < _varCount; ++i) {
		String _name;
		_name.parseFromBinaryStream(stream);

		uint16 _varSize = stream->readShort();

		int _currentOffset = stream->getOffset();

		if(ScreenPlayObserverImplementation::readObjectMember(stream, _name)) {
		}

		stream->setOffset(_currentOffset + _varSize);
	}

	initializeTransientMembers();
}

bool ScreenPlayObserverImplementation::readObjectMember(ObjectInputStream* stream, const String& _name) {
	if (ObserverImplementation::readObjectMember(stream, _name))
		return true;

	if (_name == "play") {
		TypeInfo<String >::parseFromBinaryStream(&play, stream);
		return true;
	}

	if (_name == "key") {
		TypeInfo<String >::parseFromBinaryStream(&key, stream);
		return true;
	}


	return false;
}

void ScreenPlayObserverImplementation::writeObject(ObjectOutputStream* stream) {
	int _currentOffset = stream->getOffset();
	stream->writeShort(0);
	int _varCount = ScreenPlayObserverImplementation::writeObjectMembers(stream);
	stream->writeShort(_currentOffset, _varCount);
}

int ScreenPlayObserverImplementation::writeObjectMembers(ObjectOutputStream* stream) {
	String _name;
	int _offset;
	uint16 _totalSize;
	_name = "play";
	_name.toBinaryStream(stream);
	_offset = stream->getOffset();
	stream->writeShort(0);
	TypeInfo<String >::toBinaryStream(&play, stream);
	_totalSize = (uint16) (stream->getOffset() - (_offset + 2));
	stream->writeShort(_offset, _totalSize);

	_name = "key";
	_name.toBinaryStream(stream);
	_offset = stream->getOffset();
	stream->writeShort(0);
	TypeInfo<String >::toBinaryStream(&key, stream);
	_totalSize = (uint16) (stream->getOffset() - (_offset + 2));
	stream->writeShort(_offset, _totalSize);


	return 2 + ObserverImplementation::writeObjectMembers(stream);
}

ScreenPlayObserverImplementation::ScreenPlayObserverImplementation() {
	_initializeImplementation();
	// server/zone/managers/director/ScreenPlayObserver.idl():  		play = "";
	play = "";
}

void ScreenPlayObserverImplementation::setScreenPlay(const String& screen) {
	// server/zone/managers/director/ScreenPlayObserver.idl():  		play = screen;
	play = screen;
}

void ScreenPlayObserverImplementation::setScreenKey(const String& screenKey) {
	// server/zone/managers/director/ScreenPlayObserver.idl():  		key = screenKey;
	key = screenKey;
}

String ScreenPlayObserverImplementation::getScreenPlay() {
	// server/zone/managers/director/ScreenPlayObserver.idl():  		return play;
	return play;
}

String ScreenPlayObserverImplementation::getScreenKey() {
	// server/zone/managers/director/ScreenPlayObserver.idl():  		return key;
	return key;
}

/*
 *	ScreenPlayObserverAdapter
 */

ScreenPlayObserverAdapter::ScreenPlayObserverAdapter(ScreenPlayObserverImplementation* obj) : ObserverAdapter(obj) {
}

Packet* ScreenPlayObserverAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case RPC_NOTIFYOBSERVEREVENT__INT_OBSERVABLE_MANAGEDOBJECT_LONG_:
		resp->insertSignedInt(notifyObserverEvent(inv->getUnsignedIntParameter(), (Observable*) inv->getObjectParameter(), (ManagedObject*) inv->getObjectParameter(), inv->getSignedLongParameter()));
		break;
	case RPC_SETSCREENPLAY__STRING_:
		setScreenPlay(inv->getAsciiParameter(_param0_setScreenPlay__String_));
		break;
	case RPC_SETSCREENKEY__STRING_:
		setScreenKey(inv->getAsciiParameter(_param0_setScreenKey__String_));
		break;
	case RPC_GETSCREENPLAY__:
		resp->insertAscii(getScreenPlay());
		break;
	case RPC_GETSCREENKEY__:
		resp->insertAscii(getScreenKey());
		break;
	default:
		return NULL;
	}

	return resp;
}

int ScreenPlayObserverAdapter::notifyObserverEvent(unsigned int eventType, Observable* observable, ManagedObject* arg1, long long arg2) {
	return ((ScreenPlayObserverImplementation*) impl)->notifyObserverEvent(eventType, observable, arg1, arg2);
}

void ScreenPlayObserverAdapter::setScreenPlay(const String& screen) {
	((ScreenPlayObserverImplementation*) impl)->setScreenPlay(screen);
}

void ScreenPlayObserverAdapter::setScreenKey(const String& screenKey) {
	((ScreenPlayObserverImplementation*) impl)->setScreenKey(screenKey);
}

String ScreenPlayObserverAdapter::getScreenPlay() {
	return ((ScreenPlayObserverImplementation*) impl)->getScreenPlay();
}

String ScreenPlayObserverAdapter::getScreenKey() {
	return ((ScreenPlayObserverImplementation*) impl)->getScreenKey();
}

/*
 *	ScreenPlayObserverHelper
 */

ScreenPlayObserverHelper* ScreenPlayObserverHelper::staticInitializer = ScreenPlayObserverHelper::instance();

ScreenPlayObserverHelper::ScreenPlayObserverHelper() {
	className = "ScreenPlayObserver";

	Core::getObjectBroker()->registerClass(className, this);
}

void ScreenPlayObserverHelper::finalizeHelper() {
	ScreenPlayObserverHelper::finalize();
}

DistributedObject* ScreenPlayObserverHelper::instantiateObject() {
	return new ScreenPlayObserver(DummyConstructorParameter::instance());
}

DistributedObjectServant* ScreenPlayObserverHelper::instantiateServant() {
	return new ScreenPlayObserverImplementation(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* ScreenPlayObserverHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new ScreenPlayObserverAdapter((ScreenPlayObserverImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

